{"ast":null,"code":"var _jsxFileName = \"/Users/satoshiaikawa/react-mui-bookstore-k8s/src/components/ProductView/productView.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport Grid from '@mui/material/Grid';\nimport { Button, Divider } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from \"react\";\nimport './styles.css';\nimport CategoryTags from './CategoryTags';\nimport axios from 'axios';\nimport Review from './Review';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet myproduct = {\n  \"id\": \"prod_0YnEoqGEOle7P6\",\n  \"created\": 1623195206,\n  \"updated\": 1623666583,\n  \"active\": true,\n  \"permalink\": \"erv27G\",\n  \"name\": \"As a Man Thinketh\",\n  \"description\": \"<p>by James Allen <em> (Author)</em></p><p>In <strong>As a Man Thinketh</strong>, James Allen points out the power of thoughts in shaping our realities. Often, we think that we are the victims of circumstance while in truth our thoughts, actions, and habits create the circumstances we dislike. The solution is to cultivate better thoughts just like we would treat a garden. Everyone should read it</p><p>Can you think of a single moment in the whole day when your mind is blank and thoughtless?Do you know how powerful every thought is?“Cherish your visions; cherish your ideals; cherish the music that stirs in your heart, the beauty that forms in your mind, the loveliness that drapes your purest thoughts, for out of them will grow all delightful conditions, all heavenly environment; of these, if you but remain true to them, your world will at last be built.”Giving an insight into the power of thoughts; the effect they have on our health, body and circumstances; and how we become what we think; this compelling literary essay by James Allen contains practical wisdom which will inspire, enlighten and help us discover our hidden powers.Written in a spiritual tone, As a Man Thinketh has been a valuable source of inspiration ever since its first publication in 1903. It continues to remain a classic bestseller.</p>\",\n  \"price\": {\n    \"raw\": 59,\n    \"formatted\": \"59.00\",\n    \"formatted_with_symbol\": \"JPY 59.00\",\n    \"formatted_with_code\": \"59.00 INR\"\n  },\n  \"inventory\": {\n    \"managed\": false,\n    \"available\": 0\n  },\n  \"sku\": null,\n  \"sort_order\": 0,\n  \"seo\": {\n    \"title\": null,\n    \"description\": null\n  },\n  \"thank_you_url\": null,\n  \"meta\": null,\n  \"conditionals\": {\n    \"is_active\": true,\n    \"is_tax_exempt\": false,\n    \"is_pay_what_you_want\": false,\n    \"is_inventory_managed\": false,\n    \"is_sold_out\": false,\n    \"has_digital_delivery\": false,\n    \"has_physical_delivery\": true,\n    \"has_images\": true,\n    \"collects_fullname\": false,\n    \"collects_shipping_address\": true,\n    \"collects_billing_address\": false,\n    \"collects_extra_fields\": false,\n    \"has_video\": false,\n    \"has_rich_embed\": false\n  },\n  \"is\": {\n    \"active\": true,\n    \"tax_exempt\": false,\n    \"pay_what_you_want\": false,\n    \"inventory_managed\": false,\n    \"sold_out\": false\n  },\n  \"has\": {\n    \"digital_delivery\": false,\n    \"physical_delivery\": true,\n    \"images\": true\n  },\n  \"collects\": {\n    \"fullname\": false,\n    \"shipping_address\": true,\n    \"billing_address\": false,\n    \"extra_fields\": false\n  },\n  \"checkout_url\": {\n    \"checkout\": \"https://checkout.chec.io/erv27G?checkout=true\",\n    \"display\": \"https://checkout.chec.io/erv27G\"\n  },\n  \"media\": {\n    \"type\": \"image\",\n    \"source\": \"https://cdn.chec.io/merchants/28663/assets/jmHrbyaTb3c6aRym|book1.jpg\",\n    \"asset_id\": \"ast_yA6nldmG1LwEWb\"\n  },\n  \"extra_fields\": [],\n  \"variant_groups\": [],\n  \"categories\": [],\n  \"assets\": [{\n    \"id\": \"ast_yA6nldmG1LwEWb\",\n    \"url\": \"https://cdn.chec.io/merchants/28663/assets/jmHrbyaTb3c6aRym|book1.jpg\",\n    \"description\": null,\n    \"is_image\": true,\n    \"filename\": \"book1.jpg\",\n    \"file_size\": 284696,\n    \"file_extension\": \"jpg\",\n    \"image_dimensions\": {\n      \"width\": 2367,\n      \"height\": 2560\n    },\n    \"meta\": [],\n    \"created_at\": 1623195123,\n    \"updated_at\": 1623195128\n  }],\n  \"image\": {\n    \"id\": \"ast_yA6nldmG1LwEWb\",\n    \"url\": \"https://cdn.chec.io/merchants/28663/assets/jmHrbyaTb3c6aRym|book1.jpg\",\n    \"description\": null,\n    \"is_image\": true,\n    \"filename\": \"book1.jpg\",\n    \"file_size\": 284696,\n    \"file_extension\": \"jpg\",\n    \"image_dimensions\": {\n      \"width\": 2367,\n      \"height\": 2560\n    },\n    \"meta\": [],\n    \"created_at\": 1623195123,\n    \"updated_at\": 1623195128\n  },\n  \"related_products\": [],\n  \"attributes\": []\n};\n\nconst createMarkup = text => {\n  return {\n    __html: text\n  };\n};\n\nconst ProductView = _ref => {\n  _s();\n\n  let {\n    onAddToCart\n  } = _ref;\n  const [product, setProduct] = useState({}); // useStateで配列の更新が上手くいかない\n  // https://zenn.dev/gunners6518/articles/4c06488cfa402e\n\n  const [categories, setCategories] = useState([]);\n  useEffect(() => {\n    const id = window.location.pathname.split(\"/\");\n    console.log(id);\n    fetchProduct(id[2]);\n  }, []);\n\n  const fetchProduct = async id => {\n    //const response = await commerce.products.retrieve(id);\n    //console.log({ response });\n    //const { name, price, media, quantity, description } = response;\n    axios.get(`http://localhost:3001/api/products/` + id).then(res => {\n      const {\n        id,\n        name,\n        price,\n        media,\n        quantity,\n        description\n      } = res.data;\n      const cate = res.data.categories;\n      setProduct({\n        id,\n        name,\n        quantity,\n        description,\n        src: media.source,\n        price: price.formatted_with_symbol\n      });\n      setCategories([...categories, cate]);\n    }); // <CategoryTags categories={product.categories} />\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"product-view\",\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            className: \"image-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: product.src,\n              alt: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 5,\n            className: \"text\",\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h2\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 40\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"p\",\n              dangerouslySetInnerHTML: createMarkup(product.description)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              color: \"secondary\",\n              children: [\"Price: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: [\" \", product.price, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 66\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CategoryTags, {\n              categoriesa: categories\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              justifyContent: \"space-evenly\",\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  size: \"small\",\n                  component: Link,\n                  to: \"/\",\n                  children: \"\\u623B\\u308B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 3\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 3\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  size: \"small\",\n                  onClick: () => onAddToCart(product.id, 1),\n                  children: \"\\u8CB7\\u3044\\u7269\\u304B\\u3054\\u3078\\u5165\\u308C\\u308B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 3\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 3\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 2\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        color: \"black\",\n        children: \"\\u3053\\u306E\\u672C\\u306E\\u30EC\\u30D3\\u30E5\\u30FC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 86\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        children: [1, 2, 3, 4, 5, 6, 7, 8, 9].map(item => {\n          return /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Review, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 171\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 160\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 91\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductView, \"tWDKmX7FT6CbMe6VJm3H7iF3kFo=\");\n\n_c = ProductView;\nexport default ProductView;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductView\");","map":{"version":3,"sources":["/Users/satoshiaikawa/react-mui-bookstore-k8s/src/components/ProductView/productView.js"],"names":["React","Typography","Container","Grid","Button","Divider","Link","useState","useEffect","CategoryTags","axios","Review","myproduct","createMarkup","text","__html","ProductView","onAddToCart","product","setProduct","categories","setCategories","id","window","location","pathname","split","console","log","fetchProduct","get","then","res","name","price","media","quantity","description","data","cate","src","source","formatted_with_symbol","map","item"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport Grid from '@mui/material/Grid';\nimport { Button, Divider } from '@mui/material';\n\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from \"react\";\nimport './styles.css'\nimport CategoryTags from './CategoryTags'\n\nimport axios from 'axios';\nimport Review from './Review';\n\n\nlet myproduct ={\n  \"id\": \"prod_0YnEoqGEOle7P6\",\n  \"created\": 1623195206,\n  \"updated\": 1623666583,\n  \"active\": true,\n  \"permalink\": \"erv27G\",\n  \"name\": \"As a Man Thinketh\",\n  \"description\": \"<p>by James Allen <em> (Author)</em></p><p>In <strong>As a Man Thinketh</strong>, James Allen points out the power of thoughts in shaping our realities. Often, we think that we are the victims of circumstance while in truth our thoughts, actions, and habits create the circumstances we dislike. The solution is to cultivate better thoughts just like we would treat a garden. Everyone should read it</p><p>Can you think of a single moment in the whole day when your mind is blank and thoughtless?Do you know how powerful every thought is?“Cherish your visions; cherish your ideals; cherish the music that stirs in your heart, the beauty that forms in your mind, the loveliness that drapes your purest thoughts, for out of them will grow all delightful conditions, all heavenly environment; of these, if you but remain true to them, your world will at last be built.”Giving an insight into the power of thoughts; the effect they have on our health, body and circumstances; and how we become what we think; this compelling literary essay by James Allen contains practical wisdom which will inspire, enlighten and help us discover our hidden powers.Written in a spiritual tone, As a Man Thinketh has been a valuable source of inspiration ever since its first publication in 1903. It continues to remain a classic bestseller.</p>\",\n  \"price\": {\n    \"raw\": 59,\n    \"formatted\": \"59.00\",\n    \"formatted_with_symbol\": \"JPY 59.00\",\n    \"formatted_with_code\": \"59.00 INR\"\n  },\n  \"inventory\": {\n    \"managed\": false,\n    \"available\": 0\n  },\n  \"sku\": null,\n  \"sort_order\": 0,\n  \"seo\": {\n    \"title\": null,\n    \"description\": null\n  },\n  \"thank_you_url\": null,\n  \"meta\": null,\n  \"conditionals\": {\n    \"is_active\": true,\n    \"is_tax_exempt\": false,\n    \"is_pay_what_you_want\": false,\n    \"is_inventory_managed\": false,\n    \"is_sold_out\": false,\n    \"has_digital_delivery\": false,\n    \"has_physical_delivery\": true,\n    \"has_images\": true,\n    \"collects_fullname\": false,\n    \"collects_shipping_address\": true,\n    \"collects_billing_address\": false,\n    \"collects_extra_fields\": false,\n    \"has_video\": false,\n    \"has_rich_embed\": false\n  },\n  \"is\": {\n    \"active\": true,\n    \"tax_exempt\": false,\n    \"pay_what_you_want\": false,\n    \"inventory_managed\": false,\n    \"sold_out\": false\n  },\n  \"has\": {\n    \"digital_delivery\": false,\n    \"physical_delivery\": true,\n    \"images\": true\n  },\n  \"collects\": {\n    \"fullname\": false,\n    \"shipping_address\": true,\n    \"billing_address\": false,\n    \"extra_fields\": false\n  },\n  \"checkout_url\": {\n    \"checkout\": \"https://checkout.chec.io/erv27G?checkout=true\",\n    \"display\": \"https://checkout.chec.io/erv27G\"\n  },\n  \"media\": {\n    \"type\": \"image\",\n    \"source\": \"https://cdn.chec.io/merchants/28663/assets/jmHrbyaTb3c6aRym|book1.jpg\",\n    \"asset_id\": \"ast_yA6nldmG1LwEWb\"\n  },\n  \"extra_fields\": [],\n  \"variant_groups\": [],\n  \"categories\": [],\n  \"assets\": [\n    {\n      \"id\": \"ast_yA6nldmG1LwEWb\",\n      \"url\": \"https://cdn.chec.io/merchants/28663/assets/jmHrbyaTb3c6aRym|book1.jpg\",\n      \"description\": null,\n      \"is_image\": true,\n      \"filename\": \"book1.jpg\",\n      \"file_size\": 284696,\n      \"file_extension\": \"jpg\",\n      \"image_dimensions\": {\n        \"width\": 2367,\n        \"height\": 2560\n      },\n      \"meta\": [],\n      \"created_at\": 1623195123,\n      \"updated_at\": 1623195128\n    }\n  ],\n  \"image\": {\n    \"id\": \"ast_yA6nldmG1LwEWb\",\n    \"url\": \"https://cdn.chec.io/merchants/28663/assets/jmHrbyaTb3c6aRym|book1.jpg\",\n    \"description\": null,\n    \"is_image\": true,\n    \"filename\": \"book1.jpg\",\n    \"file_size\": 284696,\n    \"file_extension\": \"jpg\",\n    \"image_dimensions\": {\n      \"width\": 2367,\n      \"height\": 2560\n    },\n    \"meta\": [],\n    \"created_at\": 1623195123,\n    \"updated_at\": 1623195128\n  },\n  \"related_products\": [],\n  \"attributes\": []\n};\n\nconst createMarkup = (text) => {\n    return { __html: text };\n  };\n\nconst ProductView = ({ onAddToCart }) => {\n\n    const [product, setProduct] = useState({});\n    // useStateで配列の更新が上手くいかない\n    // https://zenn.dev/gunners6518/articles/4c06488cfa402e\n    const [categories, setCategories] = useState([]);\n\n    useEffect(() => {\n      const id = window.location.pathname.split(\"/\");\n      console.log(id);\n      fetchProduct(id[2]);\n    }, []);\n\n    const fetchProduct = async (id) => {\n        //const response = await commerce.products.retrieve(id);\n        //console.log({ response });\n        //const { name, price, media, quantity, description } = response;\n\n        axios.get(`http://localhost:3001/api/products/`+id)\n        .then(res => {\n          const { id, name, price, media, quantity, description } = res.data\n          const cate = res.data.categories\n          setProduct({\n            id, \n            name,\n            quantity,\n            description,\n            src: media.source,\n            price: price.formatted_with_symbol,\n          });\n          setCategories([...categories, cate ]);\n        })\n        // <CategoryTags categories={product.categories} />\n      };\n\n    return (\n        <Grid container>\n        <Grid item>\n        <Container className=\"product-view\">\n          <Grid container>\n            <Grid item xs={12} md={6} className=\"image-wrapper\">\n              <img src={product.src} alt={product.name}\n              />\n            </Grid>\n            <Grid item xs={12} md={5} className=\"text\">\n              <Typography variant=\"h2\"><b>{product.name}</b></Typography>\n              <hr />\n              <Typography variant=\"p\" dangerouslySetInnerHTML={createMarkup(product.description)} />\n              <Typography variant=\"h3\" color=\"secondary\" >Price: <b> {product.price} </b> </Typography>\n              <CategoryTags categoriesa={categories} />\n              <br/>\n <Grid container justifyContent=\"space-evenly\">\n  <Grid item xs>\n  <Button variant=\"outlined\" size=\"small\" component={Link} to='/' >戻る</Button>\n  </Grid>\n  <Grid item xs>\n  <Button variant=\"contained\" size=\"small\" onClick={() => onAddToCart(product.id, 1)}>買い物かごへ入れる</Button>\n  </Grid>\n</Grid>\n            </Grid>\n          </Grid>\n        </Container>\n        </Grid>\n        \n        <Grid item><br/><Typography variant=\"h5\" color=\"black\" >この本のレビュー</Typography><br/><Grid container spacing={1}>{[1,2,3,4,5,6,7,8,9].map((item)=>{return <Grid item><Review /></Grid>})}</Grid></Grid>\n        </Grid>\n        \n      );\n    };\n    \n    export default ProductView;\n"]},"metadata":{},"sourceType":"module"}
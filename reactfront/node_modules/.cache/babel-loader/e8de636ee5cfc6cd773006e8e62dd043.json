{"ast":null,"code":"var _jsxFileName = \"/Users/satoshiaikawa/react-mui-bookstore-k8s/src/ProdcutDetail.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { styled } from '@mui/material/styles';\nimport { Box, Button, Paper, Grid, Rating, Tabs, Tab, Typography, ButtonGroup } from '@mui/material';\nimport BadgeUnstyled from '@mui/base/BadgeUnstyled';\nimport PropTypes from 'prop-types';\nimport Product from './Product';\nimport MySnackBar from './MySnackbar';\nimport { commerce } from './lib/commerce';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Item = styled(Paper)(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n    ...theme.typography.body2,\n    padding: theme.spacing(1),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  };\n});\n_c = Item;\nexport default function ProdcutDetail() {\n  _s();\n\n  var _product$price, _product$price2;\n\n  const [images, setImages] = React.useState([]);\n  const [selectedImage, setSelectedImage] = React.useState('');\n  const [variants, setVariants] = useState([]);\n  const [opdict, setOpdict] = useState({});\n  const [vdict, setVdict] = useState({});\n  const [product, setProduct] = useState({});\n  const [selected, setSelected] = React.useState(''); // snackbar\n\n  const [open, setOpen] = React.useState(false);\n  const [snackbarText, setSnackbarText] = React.useState('');\n  useEffect(() => {\n    const id = window.location.pathname.split(\"/\"); //console.log(id)\n\n    fetchProduct(id[2]); //fetchProductVariants(id[2])\n  }, []); // [] is for useEffectをマウント時に1回だけ実行する方法\n\n  const handleChange = event => {\n    console.log(event.target.value);\n    setSelected(event.target.value);\n  };\n\n  const fetchProduct = async productId => {\n    await commerce.products.retrieve(productId).then(product => {\n      console.log(product);\n      setProduct(product);\n      setImages(product.assets.map(asset => asset.url));\n      setSelectedImage(product.assets.map(asset => asset.url)[0]);\n      setSizes(product.variant_groups.filter(variant => variant.name === \"size\")[0].options.map(option => {\n        return {\n          id: option.id,\n          name: option.name\n        };\n      }));\n      setColors(product.variant_groups.filter(variant => variant.name === \"color\")[0].options.map(option => {\n        return {\n          id: option.id,\n          name: option.name\n        };\n      })); // vid, vgrp name --> dict\n\n      let vdicta = {};\n      console.log(product.variant_groups.map(group => {\n        vdicta[group.id] = group.name;\n        return {\n          id: group.id,\n          name: group.name,\n          options: group.options\n        };\n      }));\n      console.log(vdicta); // opid, opname, concat size and color --> dict\n\n      let opdicta = {};\n      console.log(product.variant_groups.filter(variant => variant.name === \"size\")[0].options.map(option => {\n        opdicta[option.id] = option.name;\n        return {\n          id: option.id,\n          name: option.name\n        };\n      }));\n      console.log(product.variant_groups.filter(variant => variant.name === \"color\")[0].options.map(option => {\n        opdicta[option.id] = option.name;\n        return {\n          id: option.id,\n          name: option.name\n        };\n      }));\n      console.log(opdicta);\n      setVdict(vdicta);\n      setOpdict(opdicta);\n      const url = new URL(\"https://api.chec.io/v1/products/\" + productId + \"/variants\");\n      let headers = {\n        \"X-Authorization\": \"sk_test_39980259115a0d9753812433d6740aa60b83dc9a64fba\",\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      };\n      fetch(url, {\n        method: \"GET\",\n        headers: headers\n      }).then(response => response.json()).then(json => {\n        //console.log(json.data)\n        let newVariants = json.data.map(variant => {\n          /*\n          let vid=variant.id\n          let keyList = Object.keys(variant.options)\n          console.log(vdict[keyList[0]])\n          console.log(vdict[keyList[1]])\n          console.log(opdict[variant.options[keyList[0]]])\n          console.log(opdict[variant.options[keyList[1]]])\n          */\n          return {\n            variant_id: variant.id,\n            options: variant.options\n          };\n        });\n        setVariants(newVariants);\n        console.log(newVariants);\n      });\n    });\n  };\n\n  const handleClick = event => {\n    console.log(event.target.src);\n    setSelectedImage(event.target.src);\n  };\n\n  const handleAddToCart = async (productId, quantity, variantId) => {\n    if (localStorage.getItem('token') == null) window.location.href = \"/signin\";\n    let cartId = localStorage.getItem('cart_id');\n    console.log(cartId);\n    console.log(variantId);\n    const url = new URL(\"https://api.chec.io/v1/carts/\" + cartId);\n    let headers = {\n      \"X-Authorization\": \"sk_test_39980259115a0d9753812433d6740aa60b83dc9a64fba\",\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\"\n    };\n    let body = {\n      \"id\": productId,\n      \"quantity\": quantity,\n      \"variant_id\": variantId\n    };\n    fetch(url, {\n      method: \"POST\",\n      headers: headers,\n      body: JSON.stringify(body)\n    }).then(response => response.json()).then(json => {\n      console.log(json);\n      setCart(json.cart);\n      setOpen(true);\n      setSnackbarText(json.product_name + ' を買い物かごへ追加しました');\n    });\n  };\n\n  if (product.variant_groups === undefined) return \"loading\";\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 0,\n    sx: {\n      flexGrow: 1,\n      backgroundColor: theme => theme.palette.mode === 'dark' ? '#1A2027' : '#fff'\n    },\n    children: [/*#__PURE__*/_jsxDEV(MySnackbar, {\n      open: open,\n      setOpen: setOpen,\n      snackbarText: snackbarText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          elevation: 0,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            width: \"600\",\n            height: \"600\",\n            src: selectedImage,\n            alt: \"\\u6D77\\u306E\\u5199\\u771F\",\n            title: \"\\u7A7A\\u3068\\u6D77\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        justify: \"center\",\n        spacing: 5,\n        children: images.map((elem, idx) => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          lg: 1,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: handleClick,\n            width: \"60\",\n            height: \"60\",\n            src: elem,\n            alt: \"\\u6D77\\u306E\\u5199\\u771F\",\n            title: \"\\u7A7A\\u3068\\u6D77\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 14\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      direction: \"column\",\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          elevation: 0,\n          sx: {\n            height: 30\n          },\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(StyledBadge, {\n          badgeContent: '10％OFF',\n          children: /*#__PURE__*/_jsxDEV(Item, {\n            elevation: 0,\n            children: /*#__PURE__*/_jsxDEV(\"s\", {\n              children: product === null || product === void 0 ? void 0 : (_product$price = product.price) === null || _product$price === void 0 ? void 0 : _product$price.formatted_with_code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          elevation: 0,\n          children: product === null || product === void 0 ? void 0 : (_product$price2 = product.price) === null || _product$price2 === void 0 ? void 0 : _product$price2.formatted_with_code\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          elevation: 0,\n          sx: {\n            height: 30\n          },\n          children: \"\\u5728\\u5EAB\\u306E\\u3042\\u308B\\u30B5\\u30A4\\u30BA\\u3068\\u30AB\\u30E9\\u30FC\\u306E\\u7D44\\u307F\\u5408\\u308F\\u305B:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          elevation: 0,\n          sx: {\n            height: 30\n          },\n          children: /*#__PURE__*/_jsxDEV(VariantButtonGroup, {\n            variants: variants,\n            vdict: vdict,\n            opdict: opdict,\n            selected: selected,\n            handleChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          elevation: 0,\n          children: [\"\\u203B\\u30B5\\u30A4\\u30C8\\u306E\\u4E0B\\u90E8\\u306B\\u3042\\u308BAttention\\u3092\\u3088\\u304F\\u8AAD\\u3093\\u3067\\u304B\\u3089\\u306E\\u3054\\u8CFC\\u5165\\u3092\\u304A\\u9858\\u3044\\u3044\\u305F\\u3057\\u307E\\u3059\\u3002\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 52\n          }, this), \"\\u203B\\u9001\\u6599\\u306F\\u5225\\u9014\\u767A\\u751F\\u3044\\u305F\\u3057\\u307E\\u3059\\u3002\\u8A73\\u7D30\\u306F\\u914D\\u9001\\u6848\\u5185\\u3092\\u3054\\u89A7\\u304F\\u3060\\u3055\\u3044\\u3002\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 40\n          }, this), \"\\u203B12,000\\u5186\\u4EE5\\u4E0A\\u306E\\u3054\\u6CE8\\u6587\\u3067\\u9001\\u6599\\u304C\\u7121\\u6599\\u306B\\u306A\\u308A\\u307E\\u3059\\u3002\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          elevation: 0,\n          sx: {\n            height: 30\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disabled: false,\n            onClick: () => handleAddToCart(product.id, 1, selected),\n            variant: \"contained\",\n            children: \"\\u30AB\\u30FC\\u30C8\\u306B\\u5165\\u308C\\u308B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          elevation: 0,\n          sx: {},\n          children: /*#__PURE__*/_jsxDEV(BasicTabs, {\n            product: product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          elevation: 0,\n          sx: {\n            height: 30\n          },\n          children: \"\\u304A\\u3059\\u3059\\u3081\\u95A2\\u9023\\u30A2\\u30A4\\u30C6\\u30E0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: 12,\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          elevation: 0,\n          sx: {\n            height: 30\n          },\n          children: \"\\u3053\\u306E\\u5546\\u54C1\\u306E\\u30EC\\u30D3\\u30E5\\u30FC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProdcutDetail, \"/n/+9hRC+EtNUhuW8S4CFpICuYs=\");\n\n_c2 = ProdcutDetail;\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n}\n\n_c3 = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`\n  };\n}\n\nconst createMarkup = text => {\n  return {\n    __html: text\n  };\n};\n\nfunction BasicTabs(_ref2) {\n  _s2();\n\n  let {\n    product\n  } = _ref2;\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        borderBottom: 1,\n        borderColor: 'divider'\n      },\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleChange,\n        \"aria-label\": \"basic tabs example\",\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          label: \"\\u5546\\u54C1\\u8A73\\u7D30\",\n          ...a11yProps(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          label: \"\\u304A\\u53D6\\u308A\\u6271\\u3044\",\n          ...a11yProps(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n      value: value,\n      index: 0,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"p\",\n        dangerouslySetInnerHTML: createMarkup(product.description)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n      value: value,\n      index: 1,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"\\u203B\\u30B5\\u30A4\\u30C8\\u306E\\u4E0B\\u90E8\\u306B\\u3042\\u308BAttention\\u3092\\u3088\\u304F\\u8AAD\\u3093\\u3067\\u304B\\u3089\\u306E\\u3054\\u8CFC\\u5165\\u3092\\u304A\\u9858\\u3044\\u3044\\u305F\\u3057\\u307E\\u3059\\u3002 \\u6CE8\\u610F\\u4E8B\\u9805 \\uFF0A\\u7740\\u7528\\u306E\\u969B\\u306F\\u3001\\u30A2\\u30C6\\u30F3\\u30B7\\u30E7\\u30F3\\u30BF\\u30B0\\u30FB\\u6D17\\u6FEF\\u30CD\\u30FC\\u30E0\\u3092\\u3054\\u78BA\\u8A8D\\u3057\\u3066\\u4F7F\\u7528\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002 \\uFF0A\\u30B5\\u30A4\\u30BA\\u3084\\u8272\\u5473\\u306B\\u82E5\\u5E72\\u306E\\u500B\\u4F53\\u5DEE\\u304C\\u751F\\u3058\\u308B\\u5834\\u5408\\u304C\\u3054\\u3056\\u3044\\u307E\\u3059\\u3002 \\uFF0A\\u751F\\u7523\\u6642\\u671F\\u306B\\u3088\\u308A\\u82E5\\u5E72\\u306E\\u8272\\u306E\\u30D6\\u30EC\\u3084\\u30B5\\u30A4\\u30BA\\u306E\\u5909\\u52D5\\u304C\\u751F\\u3058\\u308B\\u5834\\u5408\\u304C\\u3054\\u3056\\u3044\\u307E\\u3059\\u3002 \\uFF0A\\u64AE\\u5F71\\u5834\\u6240\\u3084\\u304A\\u4F7F\\u3044\\u306E\\u30E2\\u30CB\\u30BF\\u30FC\\u74B0\\u5883\\u306B\\u3088\\u308A\\u82E5\\u5E72\\u304A\\u8272\\u5473\\u304C\\u7570\\u306A\\u308B\\u5834\\u5408\\u304C\\u3054\\u3056\\u3044\\u307E\\u3059\\u3002 \\u6C7A\\u6E08\\u5B8C\\u4E86\\u5F8C\\u300114\\u65E5~26\\u65E5\\u524D\\u5F8C\\u3067\\u306E\\u767A\\u9001\\u4E88\\u5B9A\\u3068\\u306A\\u3063\\u3066\\u304A\\u308A\\u307E\\u3059\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(BasicTabs, \"qPBOvRc2Co1iWTsdTL0g7j/rpjU=\");\n\n_c4 = BasicTabs;\n\nfunction VariantButtonGroup(_ref3) {\n  let {\n    variants,\n    vdict,\n    opdict,\n    handleChange,\n    selected\n  } = _ref3;\n  if (variants === undefined) return 'loading';\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      '& > *': {\n        m: 1\n      }\n    },\n    children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n      variant: \"text\",\n      \"aria-label\": \"text button group\",\n      children: variants.map((elem, idx) =>\n      /*#__PURE__*/\n      //<Button value={elem.variant_id} sx={{backgroundColor:selected===elem.variant_id?'black':'white', color:selected===elem?'white':'black'}} onClick={handleChange} >{elem.variant_id}</Button>\n      _jsxDEV(Button, {\n        value: elem.variant_id,\n        sx: {\n          backgroundColor: selected === elem.variant_id ? 'black' : 'white',\n          color: selected === elem.variant_id ? 'white' : 'black'\n        },\n        onClick: handleChange,\n        children: opdict[elem.options[Object.keys(elem.options)[0]]] + \", \" + opdict[elem.options[Object.keys(elem.options)[1]]]\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 19\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 329,\n    columnNumber: 5\n  }, this);\n}\n\n_c5 = VariantButtonGroup;\nconst StyledBadge = styled(BadgeUnstyled)`\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 14px;\n  font-variant: tabular-nums;\n  list-style: none;\n  font-feature-settings: 'tnum';\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,\n    'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',\n    'Segoe UI Symbol';\n  position: relative;\n  display: inline-block;\n  line-height: 1;\n\n  & .MuiBadge-badge {\n    z-index: auto;\n    min-width: 20px;\n    height: 20px;\n    padding: 0 6px;\n    color: #fff;\n    font-weight: 400;\n    font-size: 12px;\n    line-height: 20px;\n    white-space: nowrap;\n    text-align: center;\n    background: #ff4d4f;\n    border-radius: 10px;\n    box-shadow: 0 0 0 1px #fff;\n  }\n\n  & .MuiBadge-dot {\n    padding: 0;\n    z-index: auto;\n    min-width: 6px;\n    width: 6px;\n    height: 6px;\n    background: #ff4d4f;\n    border-radius: 100%;\n    box-shadow: 0 0 0 1px #fff;\n  }\n\n  & .MuiBadge-anchorOriginTopRight {\n    position: absolute;\n    top: 0;\n    right: 0;\n    transform: translate(50%, -50%);\n    transform-origin: 100% 0;\n  }\n`;\n_c6 = StyledBadge;\n\nfunction BadgeContent() {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    component: \"span\",\n    sx: {\n      width: 42,\n      height: 42,\n      borderRadius: '2px',\n      background: '#eee',\n      display: 'inline-block',\n      verticalAlign: 'middle'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 407,\n    columnNumber: 5\n  }, this);\n}\n\n_c7 = BadgeContent;\n\nfunction UnstyledBadge() {\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      '& > :not(style) + :not(style)': {\n        ml: 4\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(StyledBadge, {\n      badgeContent: '10％OFF',\n      children: /*#__PURE__*/_jsxDEV(BadgeContent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledBadge, {\n      badgeContent: 5,\n      variant: \"dot\",\n      children: /*#__PURE__*/_jsxDEV(BadgeContent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 423,\n    columnNumber: 5\n  }, this);\n}\n\n_c8 = UnstyledBadge;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"Item\");\n$RefreshReg$(_c2, \"ProdcutDetail\");\n$RefreshReg$(_c3, \"TabPanel\");\n$RefreshReg$(_c4, \"BasicTabs\");\n$RefreshReg$(_c5, \"VariantButtonGroup\");\n$RefreshReg$(_c6, \"StyledBadge\");\n$RefreshReg$(_c7, \"BadgeContent\");\n$RefreshReg$(_c8, \"UnstyledBadge\");","map":{"version":3,"sources":["/Users/satoshiaikawa/react-mui-bookstore-k8s/src/ProdcutDetail.js"],"names":["React","useState","useEffect","styled","Box","Button","Paper","Grid","Rating","Tabs","Tab","Typography","ButtonGroup","BadgeUnstyled","PropTypes","Product","MySnackBar","commerce","Item","theme","backgroundColor","palette","mode","typography","body2","padding","spacing","textAlign","color","text","secondary","ProdcutDetail","images","setImages","selectedImage","setSelectedImage","variants","setVariants","opdict","setOpdict","vdict","setVdict","product","setProduct","selected","setSelected","open","setOpen","snackbarText","setSnackbarText","id","window","location","pathname","split","fetchProduct","handleChange","event","console","log","target","value","productId","products","retrieve","then","assets","map","asset","url","setSizes","variant_groups","filter","variant","name","options","option","setColors","vdicta","group","opdicta","URL","headers","fetch","method","response","json","newVariants","data","variant_id","handleClick","src","handleAddToCart","quantity","variantId","localStorage","getItem","href","cartId","body","JSON","stringify","setCart","cart","product_name","undefined","flexGrow","elem","idx","height","price","formatted_with_code","TabPanel","props","children","index","other","p","propTypes","node","number","isRequired","a11yProps","createMarkup","__html","BasicTabs","setValue","newValue","width","borderBottom","borderColor","description","VariantButtonGroup","display","flexDirection","alignItems","m","Object","keys","StyledBadge","BadgeContent","borderRadius","background","verticalAlign","UnstyledBadge","ml"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { styled } from '@mui/material/styles';\nimport {Box,Button, Paper, Grid, Rating, Tabs, Tab, Typography, ButtonGroup } from '@mui/material';\nimport BadgeUnstyled from '@mui/base/BadgeUnstyled';\nimport PropTypes from 'prop-types';\n\nimport Product from './Product';\nimport MySnackBar from './MySnackbar'\n\nimport {commerce} from './lib/commerce';\n\nconst Item = styled(Paper)(({ theme }) => ({\n  backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n  ...theme.typography.body2,\n  padding: theme.spacing(1),\n  textAlign: 'center',\n  color: theme.palette.text.secondary,\n}));\n\nexport default function ProdcutDetail() {\n\n  const [images, setImages] = React.useState([])\n  const [selectedImage, setSelectedImage] = React.useState('')\n\n  const [variants, setVariants] = useState([])\n  const [opdict, setOpdict] = useState({})\n  const [vdict, setVdict] = useState({})\n\n  const [product, setProduct] = useState({})\n\n  const [selected, setSelected] = React.useState('')\n\n\n    // snackbar\n    const [open, setOpen] = React.useState(false)\n    const [snackbarText, setSnackbarText] = React.useState('')\n\n\n\n  useEffect(() => {\n    const id = window.location.pathname.split(\"/\")\n    //console.log(id)\n    fetchProduct(id[2])\n    //fetchProductVariants(id[2])\n  }, []) // [] is for useEffectをマウント時に1回だけ実行する方法\n\n\n  const handleChange = (event) => {\n    console.log(event.target.value)\n    setSelected(event.target.value)\n  };\n\n  \n  const fetchProduct = async (productId) => {\n    await commerce.products.retrieve(productId)\n    .then(product => {\n      console.log(product)\n      setProduct(product)\n      setImages(product.assets.map(asset=>asset.url))\n      setSelectedImage(product.assets.map(asset=>asset.url)[0])\n      setSizes(product.variant_groups.filter(variant=>variant.name===\"size\")[0].options.map(option=>{return {id:option.id, name:option.name} }))\n      setColors(product.variant_groups.filter(variant=>variant.name===\"color\")[0].options.map(option=>{return {id:option.id, name:option.name} }))\n      // vid, vgrp name --> dict\n      let vdicta={};\n      console.log(product.variant_groups.map(group=>{vdicta[group.id]=group.name; return {id:group.id, name:group.name, options:group.options}}))\n      console.log(vdicta)\n      // opid, opname, concat size and color --> dict\n      let opdicta={}\n      console.log(product.variant_groups.filter(variant=>variant.name===\"size\")[0].options.map(option=>{opdicta[option.id]=option.name; return {id:option.id, name:option.name} }))\n      console.log(product.variant_groups.filter(variant=>variant.name===\"color\")[0].options.map(option=>{opdicta[option.id]=option.name; return {id:option.id, name:option.name} }))\n      console.log(opdicta)\n      setVdict(vdicta)\n      setOpdict(opdicta)\n\n      const url = new URL(\n        \"https://api.chec.io/v1/products/\"+productId+\"/variants\"\n      );\n    \n      let headers = {\n        \"X-Authorization\": \"sk_test_39980259115a0d9753812433d6740aa60b83dc9a64fba\",\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n      };\n    \n      fetch(url, {\n        method: \"GET\",\n        headers: headers,\n      })\n        .then(response => response.json())\n        .then(json => {\n          //console.log(json.data)\n          let newVariants=json.data.map(variant=>{\n            /*\n            let vid=variant.id\n            let keyList = Object.keys(variant.options)\n            console.log(vdict[keyList[0]])\n            console.log(vdict[keyList[1]])\n            console.log(opdict[variant.options[keyList[0]]])\n            console.log(opdict[variant.options[keyList[1]]])\n            */\n           return {variant_id:variant.id, options:variant.options}\n          })\n          setVariants(newVariants)\n          console.log(newVariants)\n        });\n\n    });\n  }\n\n  const handleClick = (event) => {\n    console.log(event.target.src)\n    setSelectedImage(event.target.src)\n\n  }; \n\n\n  const handleAddToCart = async (productId, quantity, variantId) => {\n    if(localStorage.getItem('token')==null)window.location.href=\"/signin\"\n    let cartId=localStorage.getItem('cart_id')\n    console.log(cartId)\n    console.log(variantId)\n\n    const url = new URL(\n      \"https://api.chec.io/v1/carts/\"+cartId\n    );\n  \n    let headers = {\n      \"X-Authorization\": \"sk_test_39980259115a0d9753812433d6740aa60b83dc9a64fba\",\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\",\n    };\n  \n    let body = {\n      \"id\": productId,\n      \"quantity\": quantity,\n      \"variant_id\": variantId\n    }\n  \n    fetch(url, {\n      method: \"POST\",\n      headers: headers,\n      body: JSON.stringify(body)\n    })\n      .then(response => response.json())\n      .then(json => {\n        console.log(json)\n        setCart(json.cart)\n        setOpen(true)\n        setSnackbarText(json.product_name+' を買い物かごへ追加しました')\n      });\n\n  }\n\n  \n  if(product.variant_groups===undefined)return \"loading\"\n\n  return (\n    <Paper elevation={0} sx={{\n      flexGrow: 1,\n      backgroundColor: (theme) => theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\n    }} >\n      <MySnackbar open={open} setOpen={setOpen} snackbarText={snackbarText} />\n      <Grid container spacing={2} >\n        <Grid item md={12} >\n          <Item elevation={0} ><img width=\"600\" height=\"600\"  src={selectedImage} alt=\"海の写真\" title=\"空と海\"/></Item>\n        </Grid>\n        <Grid container justify=\"center\" spacing={5} >\n        {images.map((elem, idx) => (\n            <Grid item key={idx} lg={1} >\n             <img  onClick={handleClick} width=\"60\" height=\"60\"  src={elem} alt=\"海の写真\" title=\"空と海\"/>\n            </Grid>\n          ))}\n        </Grid>\n        </Grid>\n\n        <Grid container spacing={2} direction=\"column\" alignItems=\"center\" >\n        <Grid item md={12} >\n          <Item elevation={0} sx={{height:30,}}>{product.name}</Item>\n        </Grid>\n        <Grid item xs={6} md={8}>\n          <StyledBadge badgeContent={'10％OFF'}>\n            <Item elevation={0} ><s>{product?.price?.formatted_with_code}</s></Item>\n          </StyledBadge>\n        </Grid>\n        <Grid item xs={6} md={8}>\n          <Item elevation={0} >{product?.price?.formatted_with_code}</Item>\n        </Grid>\n        <Grid item xs={6} md={8}>\n          <Item elevation={0} sx={{ height:30,}}>在庫のあるサイズとカラーの組み合わせ:</Item>\n        </Grid>\n        <Grid item xs={6} md={8}>\n          <Item elevation={0} sx={{ height:30,}}><VariantButtonGroup variants={variants} vdict={vdict} opdict={opdict} selected={selected} handleChange={handleChange} /></Item>\n        </Grid>\n        {/* \n          バリエーションの表示の仕方のオルタナティブ\n        <Grid item xs={6} md={8}>\n          <Item elevation={0} sx={{ height:30,}}>カラー:</Item>\n        </Grid>\n        <Grid item xs={6} md={8}>\n          <Item elevation={0} sx={{ height:30,}}><VariantButtonGroup elems={product.variant_groups.filter(variant=>variant.name===\"color\")[0].options.map(option=>option.name)}/></Item>\n        </Grid>\n        <Grid item xs={6} md={8}>\n          <Item elevation={0} sx={{ height:30,}}>サイズ:</Item>\n        </Grid>\n        <Grid item xs={6} md={8}>\n          <Item elevation={0} sx={{ height:30,}}><VariantButtonGroup elems={product.variant_groups.filter(variant=>variant.name===\"size\")[0].options.map(option=>option.name)}/></Item>\n        </Grid>\n        */}\n\n        </Grid>\n\n        <br/>\n\n\n        <Grid container spacing={2} >\n        <Grid item xs={6} md={12}>\n          <Item elevation={0} >\n          ※サイトの下部にあるAttentionをよく読んでからのご購入をお願いいたします。<br/>\n          ※送料は別途発生いたします。詳細は配送案内をご覧ください。<br/>\n          ※12,000円以上のご注文で送料が無料になります。<br/>\n          </Item>\n        </Grid>\n        <Grid item md={12}>\n          <Item elevation={0} sx={{ height:30,}}><Button disabled={false} onClick={ () => handleAddToCart(product.id, 1, selected)} variant=\"contained\">カートに入れる</Button></Item>\n        </Grid>\n        <Grid item md={12}>\n          <Item elevation={0} sx={{ }}><BasicTabs product={product} /></Item>\n        </Grid>\n        <Grid item md={12}>\n          <Item elevation={0} sx={{ height:30,}}>おすすめ関連アイテム</Item>\n        </Grid>\n        {/** \n        <Grid container justify=\"center\" spacing={5} >\n        {products.map((product,idx) => (\n            <Grid item key={idx} lg={3} >\n            <Product product={product} />\n            </Grid>\n          ))}\n        </Grid>\n        */}\n        <Grid item md={12}>\n          <Item elevation={0} sx={{ height:30,}}>この商品のレビュー</Item>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n}\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box sx={{ p: 3 }}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\n\nconst createMarkup = (text) => {\n  return { __html: text };\n};\n\nfunction BasicTabs({product}) {\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Box sx={{ width: '100%' }} >\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Tabs value={value} onChange={handleChange} aria-label=\"basic tabs example\">\n          <Tab label=\"商品詳細\" {...a11yProps(0)} />\n          <Tab label=\"お取り扱い\" {...a11yProps(1)} />\n        </Tabs>\n      </Box>\n      <TabPanel value={value} index={0}>\n        <Typography variant=\"p\" dangerouslySetInnerHTML={createMarkup(product.description)} />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n      <Typography>\n※サイトの下部にあるAttentionをよく読んでからのご購入をお願いいたします。\n注意事項\n＊着用の際は、アテンションタグ・洗濯ネームをご確認して使用してください。\n＊サイズや色味に若干の個体差が生じる場合がございます。\n＊生産時期により若干の色のブレやサイズの変動が生じる場合がございます。\n＊撮影場所やお使いのモニター環境により若干お色味が異なる場合がございます。\n決済完了後、14日~26日前後での発送予定となっております\n      </Typography>\n      </TabPanel>\n    </Box>\n  );\n}\n\n\n\nfunction VariantButtonGroup({variants, vdict, opdict, handleChange, selected}) {\n\n  \n  if(variants===undefined)return 'loading'\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        '& > *': {\n          m: 1,\n        },\n      }}\n    >\n      <ButtonGroup variant=\"text\" aria-label=\"text button group\">\n                {variants.map((elem, idx) => (\n                  //<Button value={elem.variant_id} sx={{backgroundColor:selected===elem.variant_id?'black':'white', color:selected===elem?'white':'black'}} onClick={handleChange} >{elem.variant_id}</Button>\n                  <Button key={idx} value={elem.variant_id} sx={{backgroundColor:selected===elem.variant_id?'black':'white', color:selected===elem.variant_id?'white':'black'}} onClick={handleChange} >{opdict[elem.options[Object.keys(elem.options)[0]]]+\", \"+opdict[elem.options[Object.keys(elem.options)[1]]]}</Button>\n                ))}\n      </ButtonGroup>\n    </Box>\n  );\n}\n\n\n\n\n\nconst StyledBadge = styled(BadgeUnstyled)`\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 14px;\n  font-variant: tabular-nums;\n  list-style: none;\n  font-feature-settings: 'tnum';\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,\n    'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',\n    'Segoe UI Symbol';\n  position: relative;\n  display: inline-block;\n  line-height: 1;\n\n  & .MuiBadge-badge {\n    z-index: auto;\n    min-width: 20px;\n    height: 20px;\n    padding: 0 6px;\n    color: #fff;\n    font-weight: 400;\n    font-size: 12px;\n    line-height: 20px;\n    white-space: nowrap;\n    text-align: center;\n    background: #ff4d4f;\n    border-radius: 10px;\n    box-shadow: 0 0 0 1px #fff;\n  }\n\n  & .MuiBadge-dot {\n    padding: 0;\n    z-index: auto;\n    min-width: 6px;\n    width: 6px;\n    height: 6px;\n    background: #ff4d4f;\n    border-radius: 100%;\n    box-shadow: 0 0 0 1px #fff;\n  }\n\n  & .MuiBadge-anchorOriginTopRight {\n    position: absolute;\n    top: 0;\n    right: 0;\n    transform: translate(50%, -50%);\n    transform-origin: 100% 0;\n  }\n`;\n\nfunction BadgeContent() {\n  return (\n    <Box\n      component=\"span\"\n      sx={{\n        width: 42,\n        height: 42,\n        borderRadius: '2px',\n        background: '#eee',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n      }}\n    />\n  );\n}\n\nfunction UnstyledBadge() {\n  return (\n    <Box sx={{ '& > :not(style) + :not(style)': { ml: 4 } }}>\n      <StyledBadge badgeContent={'10％OFF'}>\n        <BadgeContent />\n      </StyledBadge>\n      <StyledBadge badgeContent={5} variant=\"dot\">\n        <BadgeContent />\n      </StyledBadge>\n    </Box>\n  );\n}"]},"metadata":{},"sourceType":"module"}